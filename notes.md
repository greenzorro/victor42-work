# 小玩意项目备忘录

## 1. 目的

本文档旨在详细记录 `projects/victor42-work` 目录下的“小玩意”项目，为本项目的未来开发和维护提供便利。

**重要提示：** 每次新增或修改功能后，请务必更新此备忘录，确保文档的准确性和时效性。

## 2. 项目概述

本小玩意项目是一个静态HTML页面，通过JavaScript动态加载并渲染一个包含个人简介和作品集的产品展示页面。页面设计为响应式，适配PC、平板和移动设备。

### 2.1 技术栈

- **HTML5**: 页面结构
- **CSS3**: 页面样式，包括响应式布局和CSS Grid
- **JavaScript (ES6 Async/Await)**: 数据加载、DOM操作和动态内容生成
- **JSON**: 存储页面标题、描述、产品数据和个人信息

### 2.2 文件结构

- `index.html`: 主页面文件。
- `assets/css/style.css`: 页面主要样式定义。
- `assets/js/main.js`: 页面主要逻辑，负责数据加载和渲染。
- `data/products.json`: 存储所有动态内容的JSON数据文件。
- `README.md`: 项目说明。
- `LICENSE`: 项目许可证。
- `notes.md`: 本备忘录。

## 3. 功能模块与实现

### 3.1 数据驱动渲染

- **`data/products.json`**: 是唯一的数据源，定义了页面标题、描述、个人信息（头像、简介、网站链接）以及一个产品对象数组。
- **`main.js`**:
    - **`loadProducts()`**: 页面加载时，使用 `fetch` API 异步获取 `products.json` 的数据。
    - **`renderPage(data)`**: 获取数据后，调用此函数渲染整个页面，包括设置页面标题、描述、动态版权年份以及调用其他渲染模块。
    - **`renderProfile(profile, title)`**: 渲染个人信息区域，包括头像、项目标题、简介和个人网站链接。
    - **`createProductCard(product, cardSize)`**: 渲染产品列表，为每个产品动态创建卡片。整个卡片是一个 `<a>` 标签，可以直接点击跳转。
    - **错误处理**: 如果数据加载失败，会显示一个用户友好的错误提示页面。
    - **加载状态**: 在数据加载过程中，会显示一个加载动画。

### 3.2 布局与样式

- **响应式设计**: 采用移动优先的策略，设置了两个主要断点 (`640px` 和 `1180px`)，实现了三种布局模式：
    1.  **PC端 (>1180px)**: 页面内容区固定宽度 `1180px` 居中。采用双栏布局，左侧为个人信息，右侧为产品列表。个人信息区域在滚动时会 `position: sticky` 固定在屏幕上。
    2.  **中等屏幕 (640px-1180px)**: 页面内容区固定宽度 `600px` 居中。采用单栏布局，个人信息和产品列表垂直排列。
    3.  **移动端 (<640px)**: 页面宽度撑满容器。采用单栏布局。

- **产品列表**:
    - 使用 **CSS Grid** 布局，PC端为4列，中等及移动端为2列。
    - **卡片类型**:
        - **大卡片 (`.large-card`)**: 用于带图片的产品，PC端占 `2x1` 网格，移动端占 `1x2` 网格。
        - **小卡片 (`.small-card`)**: 用于不带图片的产品，始终占 `1x1` 网格。
    - **卡片样式**: 卡片具有圆角、阴影和悬停时的浮动效果，增强了视觉层次感。

- **主题风格**:
    - **配色**: 主色调为 `#2A9D8F` (青绿色)，与 `victor42.eth.limo` 博客的"Stack"主题保持一致。
    - **描述卡片**: 页面描述信息被放置在一个特殊的卡片中，该卡片以图片为背景，并带有半透明的颜色叠加层，以确保文字的可读性。

### 3.3 交互

- **可点击卡片**: 整个产品卡片都是一个可点击的链接，在新标签页中打开产品URL。
- **加载与错误状态**: 明确的加载动画和错误提示，提升了用户体验。
- **动态页脚**: 页脚的版权年份会自动更新为当前年份。

## 4. 数据结构 (`data/products.json`)

```json
{
  "title": "页面主标题",
  "description": "页面的描述信息",
  "profile": {
    "avatar": "个人头像URL",
    "bio": "个人简介，支持HTML标签如<br>",
    "website": {
      "title": "个人网站链接的显示文字",
      "url": "个人网站的完整URL"
    }
  },
  "products": [
    {
      "emoji": "产品的Emoji图标",
      "name": "产品名称",
      "url": "产品链接URL",
      "description": "产品简介",
      "image": "产品封面图URL (可选)"
    }
  ]
}
```

## 5. 故障排查

如遇问题，可尝试以下方法：

- **检查文件路径**: 确保 `main.js`, `style.css`, `products.json` 等文件的引用路径正确。
- **检查JSON数据**: 验证 `products.json` 文件的格式是否正确，所有字段是否存在。
- **浏览器开发者工具**:
    - **Console**: 查看是否有JavaScript错误信息。
    - **Network**: 检查 `products.json` 是否成功加载，状态码是否为200。
    - **Elements**: 检查HTML结构和CSS样式是否按预期应用。
- **清除浏览器缓存**: 有时旧的CSS或JS文件可能会被缓存。